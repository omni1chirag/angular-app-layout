<div class="card">

    <div>
        <h4 class="font-semibold text-gray-900 text-base/7">{{ 'DIAGNOSIS.CURRENT_DIAGNOSIS' | translate }}</h4>
    </div>
    <p-divider />

    <ng-container>
        @if (isBrowser) {
        <p-table [value]="diagnosisList" [reorderableColumns]="true" size="small" [paginator]="true"
            [loading]="showLoader" [first]="first" [lazy]="true" [rows]="size" [totalRecords]="totalRecords"
            [scrollable]="true" (onLazyLoad)="loadDiagnosis($event)" #DiagnosisTable>

            <ng-template #body let-item let-index="rowIndex">
                <tr [pReorderableRow]="index">
                    <td>
                        <strong> {{ item.diagnosisName }} </strong>
                    </td>
                    <td>
                        {{ 'DIAGNOSIS.ONSET_DATE' | translate }} : {{ item.onsetDate | date: 'dd/MM/yyyy' }} |

                        {{ 'DIAGNOSIS.REPORTED_DATE' | translate }} : {{ item.reportedDate | date: 'dd/MM/yyyy' }}

                        <span *ngIf="item.endDate">
                            | {{ 'DIAGNOSIS.END_DATE' | translate }} : {{ item.endDate | date: 'dd/MM/yyyy' }}
                        </span>
                    </td>

                    <td style="width: 1%; text-align: right;">
                        <p-tag [severity]="getTagSeverity(item.status)" [value]="getStatus(item.status)"
                            [rounded]="true">
                        </p-tag>
                    </td>
                </tr>
            </ng-template>
            <ng-template pTemplate="emptymessage">
                <tr>
                    <td colspan="4">
                        <div class="text-center">
                            <span class="text-lg">{{'DIAGNOSIS.TABLE.EMPTY_MESSAGE' | translate}}</span>
                        </div>
                    </td>
                </tr>
            </ng-template>
        </p-table>
        }
    </ng-container>

    <div class="mt-5"></div>

</div>